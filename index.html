<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robotic Arm</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f4f4f4; direction: rtl; }
        .container { display: table; max-width: 2500px; margin: auto; padding: 20px; background-color: white; border-radius: 2px; }
        .container2 { display: table-cell; max-width: 1000px; padding: 20px; background-color: white; border-radius: 2px; }
        h1 { text-align: center; color: #333; }
        h2 { text-align: center; color: #555; }
        label { display: block; margin: 7px 0 5px; font-weight: bold; }
        input { width: 100%; padding: 8px; margin-bottom: 7px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        button { width: 100%; padding: 10px; background-color: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; }
        button:hover { background-color: #218838; }
        #result { margin-top: 15px; padding: 10px; border: 1px solid #ccc; border-radius: 4px; background-color: #f9f9f9; }
        .error { color: red; font-weight: bold; }
        .plot-container { margin-top: 20px; text-align: center; }
        canvas { border: 1px solid #ccc; border-radius: 4px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
        th { background-color: #f4f4f4; }
    </style>
</head>
<body>
<div class="container">
    <div class="container2">
        <h1>Inverse Kinematics Calculation</h1>
        <form id="ikForm">
            <input type="checkbox" id="modeCheckbox"> استخدام الزوايا لحساب النقطة النهائية<br><br>
            <div id="pointInputs">
                <label for="startX">Start X (0-10):</label>
                <input type="number" id="startX" step="0.1" min="0" max="10" required>
                <label for="startY">Start Y (0-10):</label>
                <input type="number" id="startY" step="0.1" min="0" max="10" required>
                <label for="endX">End X (0-10):</label>
                <input type="number" id="endX" step="0.1" min="0" max="10" required>
                <label for="endY">End Y (0-10):</label>
                <input type="number" id="endY" step="0.1" min="0" max="10" required>
            </div>
            <div id="angleInputs" style="display: none;">
                <label for="theta1">θ₁ (°):</label>
                <input type="number" id="theta1" step="0.1">
                <label for="theta2">θ₂ (°):</label>
                <input type="number" id="theta2" step="0.1">
                <label for="theta3">θ₃ (°):</label>
                <input type="number" id="theta3" step="0.1">
            </div>
            <label for="L1">link 1 Length:</label>
            <input type="number" id="L1" step="0.1" min="0.1" required>
            <label for="L2">link 2 Length:</label>
            <input type="number" id="L2" step="0.1" min="0.1" required>
            <label for="L3">link 3 Length:</label>
            <input type="number" id="L3" step="0.1" min="0.1" required>
            <button type="submit">calculate angles</button>
        </form>
        <div id="result"></div>
        <div class="plot-container">
            <h2>arm simulator</h2>
            <canvas id="armCanvas" width="1000" height="750"></canvas>
        </div>
        <p> 
            S1: The point at the end of link1<br>
            S2: The point at the end of link2<br>
            S3: The point at the end of link3<br>
            small green dot: robot foundation (0,0)<br>
            big green dot: start point<br>
            violet dot: end point<br>
            θ₁: angle between link1 & X_axes<br>
            θ₂: angle between link1 & link2<br>
            θ₃: angle between link2 & link3
        </p>
    </div>
    <div class="container2">
        <h2>data table</h2>
        <table id="dataTable">
            <thead>
                <tr>
                    <th>step</th>
                    <th>θ₁ (°)</th>
                    <th>θ₂ (°)</th>
                    <th>θ₃ (°)</th>
                    <th>s1 X</th>
                    <th>s1 Y</th>
                    <th>s2 X</th>
                    <th>s2 Y</th>
                    <th>s3 X</th>
                    <th>s3 Y</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>

<script>
    let dataRecords = [];
    const checkbox = document.getElementById('modeCheckbox');
    const angleInputs = document.getElementById('angleInputs');
    const pointInputs = document.getElementById('pointInputs');

    // تبديل رؤية الحقول بناءً على حالة الـ checkbox
    checkbox.addEventListener('change', function() {
        if (this.checked) {
            angleInputs.style.display = 'block';
            pointInputs.style.display = 'none';
        } else {
            angleInputs.style.display = 'none';
            pointInputs.style.display = 'block';
        }
    });

    document.getElementById('ikForm').addEventListener('submit', function(e) {
        e.preventDefault();
        dataRecords = []; // reset

        const inputs = {
            startX: parseFloat(document.getElementById('startX').value),
            startY: parseFloat(document.getElementById('startY').value),
            endX: parseFloat(document.getElementById('endX').value),
            endY: parseFloat(document.getElementById('endY').value),
            L1: parseFloat(document.getElementById('L1').value),
            L2: parseFloat(document.getElementById('L2').value),
            L3: parseFloat(document.getElementById('L3').value)
        };

        if ([inputs.L1, inputs.L2, inputs.L3].some(isNaN) || [inputs.L1, inputs.L2, inputs.L3].some(v => v <= 0)) {
            showError('The lengths of the links must be positive and valid');
            return;
        }

        if (checkbox.checked) {
            // الطور الثاني: Forward Kinematics
            const theta1 = parseFloat(document.getElementById('theta1').value);
            const theta2 = parseFloat(document.getElementById('theta2').value);
            const theta3 = parseFloat(document.getElementById('theta3').value);

            if (isNaN(theta1) || isNaN(theta2) || isNaN(theta3)) {
                showError('please enter valid angles');
                return;
            }

            const theta1Rad = theta1 * Math.PI / 180;
            const theta2Rad = theta2 * Math.PI / 180;
            const theta3Rad = theta3 * Math.PI / 180;

            const endPoint = calculateFK(theta1Rad, theta2Rad, theta3Rad, inputs.L1, inputs.L2, inputs.L3);
            const points = drawArm(inputs, [theta1Rad, theta2Rad, theta3Rad]);
            recordData(0, [theta1Rad, theta2Rad, theta3Rad], points);
            fillDataTable();
            showEndPoint(endPoint);
        } else {
            // الطور الأساسي: Inverse Kinematics
            if (Object.values(inputs).some(isNaN)) {
                showError('please enter a valid input');
                return;
            }
            if ([inputs.startX, inputs.startY, inputs.endX, inputs.endY].some(v => v < 0 || v > 10)) {
                showError('Coordinates must be between 0 and 10');
                return;
            }

            const path = generatePath(inputs.startX, inputs.startY, inputs.endX, inputs.endY, 50);
            const solutions = path.map(point => calculateIK(point.x, point.y, inputs.L1, inputs.L2, inputs.L3));
            const reachableSolutions = solutions.filter(s => s !== null);

            if (reachableSolutions.length === 0) {
                showError('Target position is unreachable');
                clearCanvas();
                return;
            }

            animateArm(inputs, reachableSolutions, 0);
        }
    });

    // دالة لحساب النقطة النهائية باستخدام Forward Kinematics
    function calculateFK(theta1, theta2, theta3, L1, L2, L3) {
        const x = L1 * Math.cos(theta1) + L2 * Math.cos(theta1 + theta2) + L3 * Math.cos(theta1 + theta2 + theta3);
        const y = L1 * Math.sin(theta1) + L2 * Math.sin(theta1 + theta2) + L3 * Math.sin(theta1 + theta2 + theta3);
        return { x, y };
    }

    function generatePath(startX, startY, endX, endY, steps) {
        const path = [];
        for (let i = 0; i <= steps; i++) {
            const t = i / steps;
            const x = startX + t * (endX - startX);
            const y = startY + t * (endY - startY);
            path.push({ x, y });
        }
        return path;
    }

    function calculateIK(x, y, L1, L2, L3) {
        const distance = Math.sqrt(x * x + y * y);
        const totalLength = L1 + L2 + L3;
        if (distance > totalLength || distance < Math.abs(L1 - L2 - L3)) {
            return null;
        }

        const d = Math.sqrt(x * x + y * y);
        const cosPhi = (d * d + L3 * L3 - L2 * L2) / (2 * d * L3);
        const phi = Math.acos(Math.max(-1, Math.min(1, cosPhi)));
        const thetaTarget = Math.atan2(y, x);

        const x2 = x - L3 * Math.cos(thetaTarget);
        const y2 = y - L3 * Math.sin(thetaTarget);

        const r = Math.sqrt(x2 * x2 + y2 * y2);
        const cosTheta2 = (r * r - L1 * L1 - L2 * L2) / (2 * L1 * L2);
        const theta2 = Math.acos(Math.max(-1, Math.min(1, cosTheta2)));
        const alpha = Math.atan2(y2, x2);
        const beta = Math.asin(L2 * Math.sin(theta2) / r);
        const theta1 = alpha - beta;

        const theta3 = thetaTarget - (theta1 + theta2);

        return [theta1, theta2, theta3];
    }

    function animateArm(inputs, solutions, index) {
        if (index >= solutions.length) {
            fillDataTable();
            return;
        }

        const solution = solutions[index];
        const points = drawArm(inputs, solution);
        recordData(index, solution, points);
        showAngles(solution);

        setTimeout(() => {
            requestAnimationFrame(() => animateArm(inputs, solutions, index + 1));
        }, 50);
    }

    function drawArm(inputs, solution) {
        const canvas = document.getElementById('armCanvas');
        const ctx = canvas.getContext('2d');
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        const scale = 50;
        const offsetX = 250;
        const offsetY = 50;
        const axisYBase = offsetY + 10 * scale;

        // X&Y plan
        ctx.strokeStyle = '#ddd';
        ctx.lineWidth = 1;
        for (let x = 0; x <= 10; x++) {
            ctx.beginPath();
            ctx.moveTo(offsetX + x * scale, offsetY);
            ctx.lineTo(offsetX + x * scale, axisYBase);
            ctx.stroke();
            ctx.fillStyle = '#000';
            ctx.fillText(x.toString(), offsetX + x * scale - 5, axisYBase + 20);
        }
        for (let y = 0; y <= 10; y++) {
            ctx.beginPath();
            ctx.moveTo(offsetX, offsetY + y * scale);
            ctx.lineTo(offsetX + 10 * scale, offsetY + y * scale);
            ctx.stroke();
            ctx.fillText((10 - y).toString(), offsetX - 30, offsetY + y * scale + 5);
        }

        // draw Axes
        ctx.strokeStyle = '#000';
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(offsetX, axisYBase);
        ctx.lineTo(offsetX + 10 * scale, axisYBase);
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(offsetX, offsetY);
        ctx.lineTo(offsetX, axisYBase);
        ctx.stroke();

        const baseX = offsetX;
        const baseY = axisYBase;
        const [theta1, theta2, theta3] = solution;

        const x1 = baseX + inputs.L1 * scale * Math.cos(theta1);
        const y1 = baseY - inputs.L1 * scale * Math.sin(theta1);
        const x2 = x1 + inputs.L2 * scale * Math.cos(theta1 + theta2);
        const y2 = y1 - inputs.L2 * scale * Math.sin(theta1 + theta2);
        const x3 = x2 + inputs.L3 * scale * Math.cos(theta1 + theta2 + theta3);
        const y3 = y2 - inputs.L3 * scale * Math.sin(theta1 + theta2 + theta3);

        // draw links
        ctx.beginPath();
        ctx.moveTo(baseX, baseY);
        ctx.lineTo(x1, y1);
        ctx.strokeStyle = 'blue';
        ctx.lineWidth = 3;
        ctx.stroke();

        ctx.beginPath();
        ctx.moveTo(x1, y1);
        ctx.lineTo(x2, y2);
        ctx.strokeStyle = 'green';
        ctx.stroke();

        ctx.beginPath();
        ctx.moveTo(x2, y2);
        ctx.lineTo(x3, y3);
        ctx.strokeStyle = 'red';
        ctx.stroke();

        // draw points
        const joints = [
            { x: baseX, y: baseY },
            { x: x1, y: y1 },
            { x: x2, y: y2 },
            { x: x3, y: y3 }
        ];
        joints.forEach((joint, i) => {
            ctx.fillStyle = i === 0 ? '#00FF00' : '#000';
            ctx.beginPath();
            ctx.arc(joint.x, joint.y, 5, 0, Math.PI * 2);
            ctx.fill();
        });

        // start point(green) + end point (violet) - فقط في الطور الأساسي
        if (!checkbox.checked) {
            ctx.fillStyle = '#00FF00'; 
            ctx.beginPath();
            ctx.arc(offsetX + inputs.startX * scale, axisYBase - inputs.startY * scale, 8, 0, Math.PI * 2);
            ctx.fill();

            ctx.fillStyle = '#800080'; 
            ctx.beginPath();
            ctx.arc(offsetX + inputs.endX * scale, axisYBase - inputs.endY * scale, 8, 0, Math.PI * 2);
            ctx.fill();
        }

        // s1, s2, s3 coordination points
        return [
            { x: (x1 - offsetX) / scale, y: (axisYBase - y1) / scale }, // s1
            { x: (x2 - offsetX) / scale, y: (axisYBase - y2) / scale }, // s2
            { x: (x3 - offsetX) / scale, y: (axisYBase - y3) / scale }  // s3
        ];
    }

    function recordData(step, angles, points) {
        const toDeg = rad => (rad * 180 / Math.PI).toFixed(2);
        dataRecords.push({
<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gaza under attack</title>
    <style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        direction: rtl;
    }
    .header { 
        font-size:15px; 
        display: flex; 
        align-items: center; 
        padding: 15px;
        background: linear-gradient(90deg, #830000, #a70000); 
        border-bottom: 2px solid #830000; 
        color: #a70000; 
    } 
    .title { 
        color:white;
        margin: 0;
        font-size: 1.2em;
    }
    .container {
        height: 100vh;
        display: flex;
        flex-direction: row;
    }

    .sidebar {
        width: 200px;
        background-color: #f0f0f0;
        overflow: hidden;
        position: relative;
        flex-shrink: 0;
    }

    .text-container {
        position: absolute;
        top: 0;
        width: 200px;
        animation: scroll-text 29s linear infinite;
    }

    .text-container p {
        margin: 0;
        padding: 10px;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    @keyframes scroll-text {
        0% { transform: translateY(0); }
        100% { transform: translateY(-50%); }
    }

    .main-content {
        flex: 1;
        padding: 20px;
        overflow-y: auto;
    }

    .buttons {
        margin-bottom: 20px;
        display: flex;
        gap: 10px;
    }

    button {
        padding: 10px 20px;
        cursor: pointer;
        background-color: #a70000;
        color: white;
        border: none;
        border-radius: 5px;
        flex: 1;
    }

    button:hover {
        background-color: #6e0000;
    }

    .content {
        border: 1px solid #ccc;
        padding: 15px;
        margin-bottom: 20px;
    }

    #photoContainer {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 10px;
    }

    video {
        width: 100%;
        height: auto;
        margin-bottom: 10px;
    }

    img {
        width: 100%;
        height: auto;
        max-height: 400px;
        object-fit: cover;
    }

    @media (max-width: 768px) {
        .container {
            flex-direction: column;
            height: auto;
        }
        
        .sidebar {
            width: 100%;
            height: 200px;
            flex-shrink: 0;
        }
        
        .text-container {
            width: 100%;
        }
        
        .main-content {
            padding: 15px;
            overflow: visible;
        }
        
        .buttons {
            flex-direction: column;
        }
        
        button {
            width: 100%;
            margin: 5px 0;
        }
        
        #photoContainer {
            grid-template-columns: 1fr;
        }
        
        .header {
            padding: 10px;
        }
        
        .title {
            font-size: 1em;
        }
    }
   .contact-section {
        padding: 20px;
        background-color: #f5f5f5;
        border-top: 2px solid #830000;
        direction: rtl;
    }
    
    .contact-form {
        max-width: 600px;
        margin: 0 auto;
    }
    
    .form-group {
        margin-bottom: 15px;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }
    
    .form-group input,
    .form-group textarea,
    .form-group file {
        width: 100%;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }
    
    .form-group textarea {
        height: 100px;
    }
    
    .submit-btn {
        background-color: #a70000;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    
    .submit-btn:hover {
        background-color: #6e0000;
    }
    
    @media (max-width: 768px) {
        .contact-section {
            padding: 15px;
        }
        
        .form-group input,
        .form-group textarea {
            font-size: 14px;
        }
    }
    </style>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyA_8I3TTKFl-5KYnhk4K_OrzqzzymzmhqU",
            authDomain: "test-test-313.firebaseapp.com",
            projectId: "test-test-313",
            storageBucket: "test-test-313.appspot.com",
            messagingSenderId: "926344113742",
            appId: "1:926344113742:web:1ace941af9bd92eebedd1f",
            measurementId: "G-NCC8S9Z7NX"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        async function loadTexts() {
            const textContainer = document.getElementById("textContainer");
            textContainer.innerHTML = '<p>جار التحميل...</p>';
            
            const querySnapshot = await getDocs(collection(db, "texts"));
            let textHTML = '';
            
            querySnapshot.forEach((doc) => {
                const textData = doc.data();
                textHTML += `<p class="txt">${textData.text}</p><br>`;
            });

            textContainer.innerHTML = textHTML + textHTML || '<p>لم يتم العثور على نصوص</p>';
        }

        async function loadSpecialties() {
            const photoContainer = document.getElementById("photoContainer");
            photoContainer.innerHTML = '<p>جار التحميل...</p>';
            
            const querySnapshot = await getDocs(collection(db, "image"));
            let photoHTML = '';
            
            querySnapshot.forEach((doc) => {
                const photo = doc.data();
                photoHTML += `
                    <div 
                        data-id="${doc.id}"
                        data-name="${photo.title}"
                        data-image="${photo.source}">
                        <img src="${photo.source}" alt="${photo.title}">
                        <p>${photo.title}</p>
                    </div>
                `;
            });

            photoContainer.innerHTML = photoHTML || '<p>لم يتم العثور على صور</p>';
        }


        async function loadvideos() {
            const videoContainer = document.getElementById("videoContainer");
            videoContainer.innerHTML = '<p>جار التحميل...</p>';
            
            const querySnapshot = await getDocs(collection(db, "video"));
            let videoHTML = '';
            
            querySnapshot.forEach((doc) => {
                const video = doc.data();
                videoHTML += `
                    <div 
                        data-id="${doc.id}"
                        data-name="${video.title}"
                        data-image="${video.source}">
                <video controls>
                    <source src="${video.source}" type="video/mp4">
                </video>
                        <p>${video .title}</p>
                    </div>
                `;
            });

            videoContainer.innerHTML = videoHTML || '<p>لم يتم العثور على صور</p>';
        }


        

        document.getElementById('show-images').addEventListener('click', function() {
            document.getElementById('images').style.display = 'block';
            document.getElementById('videos').style.display = 'none';
        });

        document.getElementById('show-videos').addEventListener('click', function() {
            document.getElementById('images').style.display = 'none';
            document.getElementById('videos').style.display = 'block';
        });

        window.onload = function() {
            loadTexts();
            loadSpecialties();
            loadvideos();
        };
document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            
            fetch('https://formspree.io/f/xdkepole', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => {
                if (response.ok) {
                    alert('تم إرسال الرسالة بنجاح!');
                    this.reset();
                } else {
                    alert('حدث خطأ أثناء الإرسال، يرجى المحاولة لاحقًا.');
                }
<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gaza under attack</title>
    <style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        direction: rtl;
    }
    .header { 
        font-size:15px; 
        display: flex; 
        align-items: center; 
        padding: 15px;
        background: linear-gradient(90deg, #830000, #a70000); 
        border-bottom: 2px solid #830000; 
        color: #a70000; 
    } 
    .title { 
        color:white;
        margin: 0;
        font-size: 1.2em;
    }
    .container {
        height: 100vh;
        display: flex;
        flex-direction: row;
    }

    .sidebar {
        width: 200px;
        background-color: #f0f0f0;
        overflow: hidden;
        position: relative;
        flex-shrink: 0;
    }

    .text-container {
        position: absolute;
        top: 0;
        width: 200px;
        animation: scroll-text 29s linear infinite;
    }

    .text-container p {
        margin: 0;
        padding: 10px;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    @keyframes scroll-text {
        0% { transform: translateY(0); }
        100% { transform: translateY(-50%); }
    }

    .main-content {
        flex: 1;
        padding: 20px;
        overflow-y: auto;
    }

    .buttons {
        margin-bottom: 20px;
        display: flex;
        gap: 10px;
    }

    button {
        padding: 10px 20px;
        cursor: pointer;
        background-color: #a70000;
        color: white;
        border: none;
        border-radius: 5px;
        flex: 1;
    }

    button:hover {
        background-color: #6e0000;
    }

    .content {
        border: 1px solid #ccc;
        padding: 15px;
        margin-bottom: 20px;
    }

    #photoContainer {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 10px;
    }

    video {
        width: 100%;
        height: auto;
        margin-bottom: 10px;
    }

    img {
        width: 100%;
        height: auto;
        max-height: 400px;
        object-fit: cover;
    }

    @media (max-width: 768px) {
        .container {
            flex-direction: column;
            height: auto;
        }
        
        .sidebar {
            width: 100%;
            height: 200px;
            flex-shrink: 0;
        }
        
        .text-container {
            width: 100%;
        }
        
        .main-content {
            padding: 15px;
            overflow: visible;
        }
        
        .buttons {
            flex-direction: column;
        }
        
        button {
            width: 100%;
            margin: 5px 0;
        }
        
        #photoContainer {
            grid-template-columns: 1fr;
        }
        
        .header {
            padding: 10px;
        }
        
        .title {
            font-size: 1em;
        }
    }
   .contact-section {
        padding: 20px;
        background-color: #f5f5f5;
        border-top: 2px solid #830000;
        direction: rtl;
    }
    
    .contact-form {
        max-width: 600px;
        margin: 0 auto;
    }
    
    .form-group {
        margin-bottom: 15px;
    }
    
    .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }
    
    .form-group input,
    .form-group textarea,
    .form-group file {
        width: 100%;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }
    
    .form-group textarea {
        height: 100px;
    }
    
    .submit-btn {
        background-color: #a70000;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    
    .submit-btn:hover {
        background-color: #6e0000;
    }
    
    @media (max-width: 768px) {
        .contact-section {
            padding: 15px;
        }
        
        .form-group input,
        .form-group textarea {
            font-size: 14px;
        }
    }
    </style>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyA_8I3TTKFl-5KYnhk4K_OrzqzzymzmhqU",
            authDomain: "test-test-313.firebaseapp.com",
            projectId: "test-test-313",
            storageBucket: "test-test-313.appspot.com",
            messagingSenderId: "926344113742",
            appId: "1:926344113742:web:1ace941af9bd92eebedd1f",
            measurementId: "G-NCC8S9Z7NX"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        async function loadTexts() {
            const textContainer = document.getElementById("textContainer");
            textContainer.innerHTML = '<p>جار التحميل...</p>';
            
            const querySnapshot = await getDocs(collection(db, "texts"));
            let textHTML = '';
            
            querySnapshot.forEach((doc) => {
                const textData = doc.data();
                textHTML += `<p class="txt">${textData.text}</p><br>`;
            });

            textContainer.innerHTML = textHTML + textHTML || '<p>لم يتم العثور على نصوص</p>';
        }

        async function loadSpecialties() {
            const photoContainer = document.getElementById("photoContainer");
            photoContainer.innerHTML = '<p>جار التحميل...</p>';
            
            const querySnapshot = await getDocs(collection(db, "image"));
            let photoHTML = '';
            
            querySnapshot.forEach((doc) => {
                const photo = doc.data();
                photoHTML += `
                    <div 
                        data-id="${doc.id}"
                        data-name="${photo.title}"
                        data-image="${photo.source}">
                        <img src="${photo.source}" alt="${photo.title}">
                        <p>${photo.title}</p>
                    </div>
                `;
            });

            photoContainer.innerHTML = photoHTML || '<p>لم يتم العثور على صور</p>';
        }


        async function loadvideos() {
            const videoContainer = document.getElementById("videoContainer");
            videoContainer.innerHTML = '<p>جار التحميل...</p>';
            
            const querySnapshot = await getDocs(collection(db, "video"));
            let videoHTML = '';
            
            querySnapshot.forEach((doc) => {
                const video = doc.data();
                videoHTML += `
                    <div 
                        data-id="${doc.id}"
                        data-name="${video.title}"
                        data-image="${video.source}">
                <video controls>
                    <source src="${video.source}" type="video/mp4">
                </video>
                        <p>${video .title}</p>
                    </div>
                `;
            });

            videoContainer.innerHTML = videoHTML || '<p>لم يتم العثور على صور</p>';
        }


        

        document.getElementById('show-images').addEventListener('click', function() {
            document.getElementById('images').style.display = 'block';
            document.getElementById('videos').style.display = 'none';
        });

        document.getElementById('show-videos').addEventListener('click', function() {
            document.getElementById('images').style.display = 'none';
            document.getElementById('videos').style.display = 'block';
        });

        window.onload = function() {
            loadTexts();
            loadSpecialties();
            loadvideos();
        };
document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            
            fetch('https://formspree.io/f/xdkepole', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => {
                if (response.ok) {
                    alert('تم إرسال الرسالة بنجاح!');
                    this.reset();
                } else {
                    alert('حدث خطأ أثناء الإرسال، يرجى المحاولة لاحقًا.');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('حدث خطأ أثناء الإرسال، يرجى المحاولة لاحقًا.');
            });
        });
    </script>
</head>

<body>
<div class="header">
<h2 class="title">فلو أن امرأ مسلما مات من بعد هذا أسفا ما كان به ملوما بل كان به عندي جديرا</h2>
</div>
    <div class="container">
        <div class="sidebar">
            <div class="text-container" id="textContainer"></div>
        </div>
        <div class="main-content">
            <div class="buttons">
                <button id="show-images">الصور</button>
                <button id="show-videos">الفيديوهات</button>
            </div>
            <div id="images" class="content">
                <h2>قسم الصور</h2>
                <div id="photoContainer"></div>
            </div>
            <div id="videos" class="content" style="display: none;">
                <h2>قسم الفيديوهات</h2>
                <div id="videoContainer"></div>
            </div>
        </div>
    </div>

<div class="contact-section">
        <form id="contactForm" class="contact-form">
            <h2>أضف محتوى</h2>
            
            <div class="form-group">
                <label for="name">الاسم الكامل:</label>
                <input type="text" id="name" name="name" required>
            </div>
            
            <div class="form-group">
                <label for="title">عنوان الرسالة:</label>
                <input type="text" id="title" name="title" required>
            </div>
            
            <div class="form-group">
                <label for="message"> نص الرسالة (بالإضافة إلى رابط المحتوى المرئي) :</label>
                <textarea id="message" name="message" required></textarea>
            </div>
            
       <!-- <div class="form-group">
               <label for="image">إرفاق صورة (اختياري):
</label>
                <input type="file" id="image" name="image" accept="image/*">
          </div> -->
            
            <button type="submit" class="submit-btn">إرسال الرسالة</button>
        </form>
<p>يرجى ارفاق رابط الصورة او مقطع الفيديو ضمن المساحة اعلاه، ان لم يتوفر رابط للمحتوى نرجو ارساله عبر البريد الإلكتروني التالي : gazaunderattack2025@gmail.com</p>
    </div>
</body>
</html>

